<div data-ovh-alert="user_alerts_supportLevel"></div>
<div
    class="text-center"
    data-ng-if="$ctrl.isLoading"
>
    <oui-spinner></oui-spinner>
</div>
<div
    class="module-useraccount-sections-support-level"
    data-ng-if="!$ctrl.isLoading"
>
    <h2 data-translate="user_account_support_level_section_title"></h2>
    <h3
        data-translate="{{:: 'user_account_support_level_section_title_what' + ($ctrl.isTrusted ? '_trusted' : '') }}"
    ></h3>

    <p
        data-ng-if="!$ctrl.isTrusted"
        data-translate="{{:: 'user_account_support_level_section_title_description_' + $ctrl.partnerLevel.level + '_' + $ctrl.supportLevel.level }}"
        data-translate-default="{{:: 'user_account_support_level_section_title_description' | translate }}"
    ></p>
    <p
        data-ng-if="$ctrl.isTrusted"
        data-translate="user_account_support_level_section_title_description_trusted"
    ></p>

    <div class="row pt-4 mt-4">
        <div
            class="col-xs-12 col-lg-6 col-xl-3"
            data-ng-repeat="supportLevel in ::$ctrl.supportLevels track by supportLevel.name"
        >
            <oui-tile
                class="py-0 mb-4"
                data-ng-class="{
                    [supportLevel.name]: true,
                    current: $ctrl.isCurrent(supportLevel),
                }"
                loading="$ctrl.loading"
            >
                <div class="d-flex flex-column align-items-center">
                    <header class="mb-4">
                        <img
                            data-ng-src="{{:: ('images/support-level/' + supportLevel.supportType + '.png') }}"
                            class="d-block"
                            alt="{{:: ('user_account_support_level_section_' + supportLevel.name) | translate }}"
                        />
                        <p
                            data-ng-if="$ctrl.isCurrent(supportLevel)"
                            data-translate="user_account_support_level_section_current"
                            class="highlight highlight-current"
                        ></h5>
                        <p
                            data-ng-if="$ctrl.isRecommanded(supportLevel)"
                            data-translate="user_account_support_level_section_recommended"
                            class="highlight highlight-recommanded"
                        ></p>
                    </header>
                    <h3 data-translate="{{:: ('user_account_support_level_section_' + supportLevel.name) }}"></h3>
                    <h4 data-ng-class="!supportLevel.price && 'price'">
                        <span
                            data-ng-if="supportLevel.fetchPrice && supportLevel.price"
                            data-ng-bind="supportLevel.price"
                        ></span>
                        <span data-ng-if="supportLevel.fetchPrice && !supportLevel.price">-</span>
                        <span
                            data-ng-if="!supportLevel.fetchPrice"
                            data-translate="{{:: ('user_account_support_level_section_' + supportLevel.name + '_price') }}"
                        ></span>
                    </h4>
                    <p data-translate="{{:: ('user_account_support_level_section_' + supportLevel.name + '_headline') }}"></p>
                    <p>
                        <strong
                            data-translate="user_account_support_level_section_response-time"
                            class="d-block"
                        ></strong>
                        <span data-translate="{{:: ('user_account_support_level_section_' + supportLevel.name + '_response-time') }}"></span>
                    </p>
                    <p
                        data-translate="{{:: ('user_account_support_level_section_' + supportLevel.name + '_features') }}"
                        data-translate-default=" "
                    ></p>
                    <a
                        class="oui-button oui-button_primary oui-button_l"
                        data-ng-if="$ctrl.hasCTA(supportLevel)"
                        data-ng-href="{{:: supportLevel.subscriptionUrl }}"
                        target="_blank"
                        rel="noopener"
                    >
                        <span data-translate="{{:: ('user_account_support_level_section_' + supportLevel.subscriptionAction) }}"></span>
                    </a>
                    <a
                        class="oui-button oui-button_icon-right my-2 oui-button_l"
                        data-ng-href="{{:: supportLevel.url }}"
                        target="_blank"
                        rel="noopener"
                    >
                        <span data-translate="user_account_support_level_section_more"></span>
                        <span
                            class="oui-icon oui-icon-arrow-right"
                            aria-hidden="true"
                        ></span>
                    </a>
                </div>
            </oui-tile>
        </div>
    </div>

    <p data-translate="user_account_support_level_section_title_annex_1"></p>
    <p data-translate="user_account_support_level_section_title_annex_2"></p>
</div>
